{
	"info": {
		"_postman_id": "admissions-crm-collection",
		"name": "Admissions CRM API",
		"description": "Collection for testing Admissions CRM API endpoints with Role-Based Access Control.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register (Super Admin)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Super Admin\",\n    \"email\": \"admin@example.com\",\n    \"password\": \"password123\",\n    \"role_id\": \"{{super_admin_role_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.environment.set(\"token\", jsonData.token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"profile"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Users (Admin Only)",
			"item": [
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create User (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"New Manager\",\n    \"email\": \"manager@example.com\",\n    \"password\": \"password123\",\n    \"role\": \"Marketing Manager\",\n    \"phone\": \"9876543210\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Campaigns (Marketing Manager)",
			"item": [
				{
					"name": "Create Campaign (Enhanced)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Summer Admission 2026\",\n    \"description\": \"Targeting high school graduates\",\n    \"type\": \"lead_generation\",\n    \"platform\": \"multi_channel\",\n    \"start_date\": \"2026-02-01T00:00:00Z\",\n    \"end_date\": \"2026-08-31T00:00:00Z\",\n    \"institution\": \"EGS Pillay Engineering College\",\n    \"objective\": \"Promote B.E / M.E admissions\",\n    \"kpi\": \"10,000 Leads / 2,000 Applications\",\n    \"target_audience\": {\n        \"demographic\": \"12th Std Students, Parents\"\n    },\n    \"detailed_plan\": {\n        \"google_ads\": \"Search & Youtube\",\n        \"meta_ads\": \"Instagram & Facebook\",\n        \"offline\": \"FM Ads, Newspaper\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/campaigns",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"campaigns"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Campaigns",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/campaigns",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"campaigns"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Budgets (Finance)",
			"item": [
				{
					"name": "Create Budget",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"campaign_id\": \"{{campaign_id}}\",\n    \"amount\": 50000\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/budgets",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"budgets"
							]
						}
					},
					"response": []
				},
				{
					"name": "Approve Budget",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"approved\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/budgets/{{budget_id}}/approve",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"budgets",
								"{{budget_id}}",
								"approve"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Accounting (Finance & Marketing)",
			"item": [
				{
					"name": "Create Payment Record",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"date\": \"2025-12-01T10:00:00Z\",\n    \"transfer_by\": \"John Doe\",\n    \"payment_method\": \"NEFT\",\n    \"amount\": 100000,\n    \"transaction_id\": \"TXN123456789\",\n    \"purpose\": \"Q1 Ad Budget\",\n    \"remarks\": \"Initial transfer\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/accounting/payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"accounting",
								"payments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Payment Records",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/accounting/payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"accounting",
								"payments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Ad Spend",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"date\": \"2025-12-02T00:00:00Z\",\n    \"platform\": \"Google Ads\",\n    \"budget_allocated\": 5000,\n    \"actual_spend\": 4800,\n    \"invoice_no\": \"INV-2025-001\",\n    \"invoice_url\": \"https://example.com/invoice.pdf\",\n    \"campaign_id\": \"{{campaign_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/accounting/ad-spends",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"accounting",
								"ad-spends"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Ad Spends",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/accounting/ad-spends",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"accounting",
								"ad-spends"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Assets (Designer)",
			"item": [
				{
					"name": "Upload Asset",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"campaign_id\": \"{{campaign_id}}\",\n    \"name\": \"Banner Ad v1\",\n    \"storage_url\": \"https://s3.aws.com/bucket/banner.jpg\",\n    \"file_type\": \"image/jpeg\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/assets",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"assets"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get My Assets",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/assets?my_assets=true",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"assets"
							],
							"query": [
								{
									"key": "my_assets",
									"value": "true"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Leads (Admission Exec)",
			"item": [
				{
					"name": "Create Lead (Internal)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"John Doe\",\n    \"phone\": \"9876543210\",\n    \"email\": \"john@example.com\",\n    \"pipeline_id\": \"{{pipeline_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/leads",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"leads"
							]
						}
					},
					"response": []
				},
				{
					"name": "Submit Lead (Public Form)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Jane Smith\",\n    \"phone\": \"9876543211\",\n    \"email\": \"jane@example.com\",\n    \"admission_year\": \"2026\",\n    \"source_website\": \"egspec.org\",\n    \"college\": \"EGS Pillay Engineering College\",\n    \"course\": \"B.E CSE\",\n    \"state\": \"Tamil Nadu\",\n    \"district\": \"Nagapattinam\",\n    \"utm_source\": \"google\",\n    \"utm_medium\": \"cpc\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/leads/submit",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"leads",
								"submit"
							]
						}
					},
					"response": []
				},
				{
					"name": "Trigger Call",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"agent_number\": \"1234567890\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/leads/{{lead_id}}/call",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"leads",
								"{{lead_id}}",
								"call"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Smartflo Integration",
			"item": [
				{
					"name": "Click to Call",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"destination_number\": \"9876543210\",\n    \"caller_id\": \"\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/smartflo/click-to-call",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"smartflo",
								"click-to-call"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Live Calls",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/smartflo/live-calls",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"smartflo",
								"live-calls"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Call Records",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/smartflo/call-records?limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"smartflo",
								"call-records"
							],
							"query": [
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "from_date",
									"value": "2025-01-01",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Call Operation (Monitor/Whisper/Barge/Transfer)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 1,\n    \"call_id\": \"CALL_ID_HERE\",\n    \"agent_id\": \"AGENT_ID_HERE\",\n    \"intercom\": \"INTERCOM_IF_TRANSFER\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/smartflo/call-operation",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"smartflo",
								"call-operation"
							]
						},
						"description": "Type: 1 (Monitor), 2 (Whisper), 3 (Barge), 4 (Transfer)"
					},
					"response": []
				},
				{
					"name": "Hangup Call",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"call_id\": \"CALL_ID_HERE\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/smartflo/hangup",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"smartflo",
								"hangup"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Smartflo Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/smartflo/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"smartflo",
								"users"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Search",
			"item": [
				{
					"name": "Global Search",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/search?q=test",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"search"
							],
							"query": [
								{
									"key": "q",
									"value": "test"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		},
		{
			"key": "super_admin_role_id",
			"value": "REPLACE_WITH_ACTUAL_UUID",
			"type": "string"
		}
	]
}
